<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pojok Literasi SMP</title>
<style>
:root{
    --primary:#1565c0;
    --dark:#0d47a1;
    --bg:#f4f6f8;
}

body{
    margin:0;
    font-family:"Segoe UI", Arial, sans-serif;
    background:var(--bg);
}

/* HEADER */
header{
    background:var(--primary);
    color:white;
    padding:16px;
    text-align:center;
}

header h1{
    margin:0;
    font-size:20px;
}

/* MENU UTAMA */
.main-menu{
    display:flex;
    background:var(--dark);
}

.main-menu button{
    flex:1;
    padding:12px;
    border:none;
    background:none;
    color:white;
    font-weight:600;
    cursor:pointer;
}

.main-menu button:hover,
.main-menu button.active{
    background:var(--primary);
}

/* LAYOUT */
.container{
    display:flex;
    height:calc(100vh - 120px);
}

/* SIDEBAR */
.sidebar{
    width:280px;
    background:white;
    border-right:1px solid #ddd;
    overflow-y:auto;
    padding:10px;
}

.sidebar.hide{
    display:none;
}

.menu-section{
    display:none;
}

.menu-section.active{
    display:block;
}

details summary{
    cursor:pointer;
    padding:10px;
    border-radius:6px;
    background:#e3f2fd;
    margin-bottom:5px;
    font-weight:600;
}

.item{
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:8px;
    margin:6px 0;
    background:#fafafa;
    border:1px solid #ddd;
    border-radius:6px;
}

.item button{
    background:var(--primary);
    color:white;
    border:none;
    padding:4px 8px;
    border-radius:4px;
    font-size:12px;
    cursor:pointer;
}

/* VIEWER */
.viewer{
    flex:1;
    padding:10px;
}

.viewer-header{
    background:white;
    padding:10px;
    border-radius:8px 8px 0 0;
    display:flex;
    justify-content:space-between;
    align-items:center;
    box-shadow:0 2px 6px rgba(0,0,0,.1);
}

.viewer-header span{
    font-weight:600;
    font-size:14px;
}

.viewer-header button{
    background:var(--primary);
    color:white;
    border:none;
    padding:4px 8px;
    border-radius:4px;
    font-size:12px;
    cursor:pointer;
}

.viewer-body{
    height:calc(100% - 50px);
    background:white;
    border-radius:0 0 8px 8px;
    box-shadow:0 4px 12px rgba(0,0,0,.15);
    overflow:hidden;
}

.viewer-body iframe{
    width:100%;
    height:100%;
    border:none;
}

.info{
    text-align:center;
    padding-top:40px;
    color:#666;
}

/* MOBILE */
@media(max-width:768px){
    .container{
        flex-direction:column;
    }
    .sidebar{
        width:100%;
        height:45%;
    }
    .viewer{
        height:55%;
    }
}
/* BREADCRUMB */
.breadcrumb{
    font-size:13px;
    color:#555;
    margin-bottom:6px;
}
.breadcrumb span{
    color:#1565c0;
    cursor:pointer;
}
.breadcrumb span:hover{
    text-decoration:underline;
}


#pdfView {
    display:none;
    position:fixed;
    top:72px; /* tinggi header + menu */
    left:0;
    width:100%;
    height:calc(100% - 72px); /* sisakan header */
    background:#fff;
    z-index:9999;
}


#pdfView .viewer-header {
    display:flex;
    justify-content:space-between;
    padding:10px;
    background:#eee;
}

#pdfView .viewer-body {
    height:calc(100% - 50px); /* sisakan untuk header PDF */
}

#pdfViewer {
    width:100%;
    height:100%; /* full height viewer-body */
    border:none;
}


</style>
</head>
<body>

<header>
<h1>ðŸ“š POJOK LITERASI SMP</h1>
</header>

<nav class="main-menu">
<button class="active" onclick="setMenu('home',this)">Beranda</button>
<button onclick="setMenu('guru',this)">Buku Panduan Guru</button>
<button onclick="setMenu('siswa',this)">Buku Siswa</button>
<button onclick="setMenu('tentang',this)">Tentang</button>
</nav>

<div class="container">
<main class="viewer">

<!-- BERANDA -->
<div id="homeView">
<h3>ðŸ“š Selamat Datang</h3>
<p>Gunakan menu di atas untuk mengakses buku resmi Kemendikbud.</p>
</div>

<!-- DROPDOWN PANEL -->
<div id="dropdownPanel" style="display:none;">
<h3 id="breadcrumb"></h3>
<select id="kelasSelect" onchange="renderMapel()">
<option value="">-- Pilih Kelas --</option>
</select>
<div id="daftarMapel"></div>
</div>

<!-- PDF VIEWER -->
<div id="pdfView" style="display:none;">
<div class="breadcrumb" id="breadcrumbPdf"></div>
<div class="viewer-header">
<span id="judulPDF">ðŸ“„ Judul Buku</span>
<div>
<button onclick="openTab()">â†— Tab</button>
<button onclick="fullscreen()">â›¶</button>
</div>
</div>
<div class="viewer-body">
<iframe id="pdfViewer"></iframe>
</div>
</div>

</main>
</div>

<script>
// ================= DATA BUKU =================
const dataBuku = {
  "guru": {
    "VII": [
      { "mapel": "Pendidikan Agama dan Budi Pekerti", "link": "" },
      { "mapel": "PPKn", "link": "" },
      { "mapel": "Bahasa Indonesia", "link": "" },
      { "mapel": "Matematika", "link": "" },
      { "mapel": "IPA", "link": "" },
      { "mapel": "IPS", "link": "" },
      { "mapel": "Bahasa Inggris", "link": "" },
      { "mapel": "Informatika", "link": "https://static.sc.cloudapp.web.id/content/pdf/bukuteks/kurikulum21/BG_INFORMATIKA_VII.pdf" },
      { "mapel": "Seni Budaya", "link": "" },
      { "mapel": "PJOK", "link": "" }
    ],
    "VIII": [
      { "mapel": "PJOK", "link": "https://static.sc.cloudapp.web.id/content/pdf/bukuteks/kurikulum21/PJOK_BG_KLS_VIII.pdf" }
    ]
  },
  "siswa": {
    "VII": [
      { "mapel": "Informatika", "link": "" }
    ]
  }
};

let currentJenis = "";
let currentPDF = "";

// ================= MENU =================
function setMenu(menu, btn) {
  document.querySelectorAll(".main-menu button").forEach(b=>b.classList.remove("active"));
  btn.classList.add("active");

  document.getElementById("homeView").style.display = "none";
  document.getElementById("dropdownPanel").style.display = "none";
  document.getElementById("pdfView").style.display = "none";

  if(menu==="home"){
    document.getElementById("homeView").style.display="block";
    return;
  }
  if(menu==="tentang"){
    document.getElementById("homeView").style.display="block";
    document.getElementById("homeView").innerHTML=`
      <h3>ðŸ“˜ Tentang</h3>
      <p><b>Pojok Literasi Digital SMP</b><br>Sumber Buku: Kemendikbudristek</p>`;
    return;
  }

  currentJenis = menu;
  document.getElementById("dropdownPanel").style.display = "block";
  document.getElementById("breadcrumb").innerText = menu==="guru"?"Buku Panduan Guru":"Buku Siswa";

  renderDropdownKelas();

  // ======= default ke kelas VII untuk guru =======
  const select = document.getElementById("kelasSelect");
  if(currentJenis==="guru" && dataBuku[currentJenis]["VII"]){
      select.value = "VII";
      renderMapel();
  }
}


// ================= DROPDOWN KELAS =================
function renderDropdownKelas(){
  const select = document.getElementById("kelasSelect");
  select.innerHTML = `<option value="">-- Pilih Kelas --</option>`;
  if(!dataBuku[currentJenis]) return;
  Object.keys(dataBuku[currentJenis]).forEach(kelas=>{
    select.innerHTML += `<option value="${kelas}">Kelas ${kelas}</option>`;
  });
  document.getElementById("daftarMapel").innerHTML="";
}

// ================= RENDER MAPEL =================
function renderMapel(){
  const kelas = document.getElementById("kelasSelect").value;
  const container = document.getElementById("daftarMapel");
  container.innerHTML="";
  if(!kelas || !dataBuku[currentJenis] || !dataBuku[currentJenis][kelas]) return;
  dataBuku[currentJenis][kelas].forEach(buku=>{
    const disabled = buku.link?"":"disabled";
    container.innerHTML += `
      <div class="item">
        <span>${buku.mapel}</span>
        <button ${disabled} onclick="bacaPDF('${buku.link}','${buku.mapel}','${currentJenis==="guru"?"Buku Panduan Guru":"Buku Siswa"}','${kelas}','${buku.mapel}')">
        ${buku.link?"Baca":"Belum tersedia"}
        </button>
      </div>
    `;
  });
}

// ================= BUKA PDF =================
/*function bacaPDF(link, judul, jenis, kelas, mapel){
  currentPDF = link;
  document.getElementById("pdfViewer").src = link;
  document.getElementById("judulPDF").innerText = "ðŸ“„ "+judul;
  document.getElementById("breadcrumbPdf").innerHTML = `<span onclick="goHome()">Beranda</span> â€º <span>${jenis}</span> â€º <span>Kelas ${kelas}</span> â€º <b>${mapel}</b>`;
  document.getElementById("dropdownPanel").style.display="none";
  document.getElementById("pdfView").style.display="block";
}*/

function bacaPDF(link, judul, jenis, kelas, mapel){
    currentPDF = link;
    document.getElementById("pdfViewer").src = link;
    document.getElementById("judulPDF").innerText = "ðŸ“„ "+judul;
    document.getElementById("breadcrumbPdf").innerHTML = `<span onclick="goHome()">Beranda</span> â€º <span>${jenis}</span> â€º <span>Kelas ${kelas}</span> â€º <b>${mapel}</b>`;
    document.getElementById("dropdownPanel").style.display="none";
    document.getElementById("pdfView").style.display="block";
}

// ================= UTIL =================
function goHome(){ location.reload(); }
function openTab(){ if(currentPDF) window.open(currentPDF,"_blank"); }
function fullscreen(){ document.getElementById("pdfView").requestFullscreen(); }

// fungsi fullscreen
function fullscreen(){
    const pdfDiv = document.getElementById("pdfView");
    if (pdfDiv.requestFullscreen) {
        pdfDiv.requestFullscreen();
    } else if (pdfDiv.webkitRequestFullscreen) { /* Safari */
        pdfDiv.webkitRequestFullscreen();
    } else if (pdfDiv.msRequestFullscreen) { /* IE11 */
        pdfDiv.msRequestFullscreen();
    }
}

</script>
</body>
</html>
